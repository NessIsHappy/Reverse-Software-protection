# Reverse-Software-protection
Цель работы
Изучение методов защиты программного обеспечения и возможных способов их преодоления.
Формулировка задания
В ходе выполнения лабораторной работы необходимо выполнить следующие действия:
1.	Изучить подходы, применяемые для защиты программного обеспечения [1-17].
2.	Реализовать программу (crackme) на компилируемом языке (C\C++, Go, Rust, Swift), осуществляющую считывание пароля из файла “password.txt” и в случае совпадения его с заданным, вывод сформированного серийного номера в формате KEY$xxxxxxxxxx$ (x – произвольные символы) в файл “serial.txt”, а также вывод сообщения об успехе в интерфейсе программы, в обратном случае - сообщения об ошибке. Все файлы должны быть расположены в одной директории с исполняемым файлом программы.
3.	В качестве защищаемого программного обеспечения (ПО) может быть выбрана программа, ранее разработанная студентом, либо любое ПО с открытым исходным кодом. 
4.	Разрабатываемая вами программа будет частью лабораторной работы №2, в которой необходимо будет решить crackme одногруппника. Соответственно, вам необходимо выбрать напарника (либо получить распределение у преподавателя), с которым нужно будет обменяться исполняемыми файлами (без предоставления исходного кода) разработанной программы для возможности дальнейшего их анализа и решения (в рамках Л.Р. №2).
5.	В программе должен быть «полезный функционал», выполнение которого не должно происходить при введении неправильного пароля.
6.	Осуществить модификацию исполняемого файла (бинарный патчинг) таким образом, чтобы результат проверки пароля всегда был положительным.
7.	В отчете привести описание осуществленных действий для нахождения места проверки пароля и модификации файла. 
8.	Необходимо реализовать защиту разработанного программного обеспечения от возможности изменения поведения программы при помощи бинарного патчинга.
9.	Реализованная программа должна использовать следующие общие подходы к защите ПО:
a.	Хранение в зашифрованном виде всех строк, в т.ч. выводимых на экран.
b.	Проверка и вывод информации в разных местах программы.
c.	Контроль целостности участков кода, ответственных за проверку «пароля» (подсчет CRC исполняемого кода функции проверки пароля в оперативной памяти во время выполнения программы).
d.	Наличие нескольких проверок пароля в разных местах программы.
e.	Наличие ложных проверок (в т.ч. сразу после считывания «пароля»).
f.	Использование методов запутывания кода для усложнения анализа кода программы.
10.	Защитные механизмы должны быть тесно переплетены с логикой защищаемого кода и распределены по всему «полезному» коду, в случае модификации кода защитных механизмов код полезной нагрузки должен стать некорректным.
11.	Реализованная программа должна использовать:
a.	Не менее 4 методов обнаружения средств отладки и противодействия им.
b.	Не менее 3 методов противодействия дизассемблированию (методы, которые приводят к некорректному дизассемблированию кода, см. главу 15 [1]).
c.	Не менее 2 методов выявления виртуальных машин.
d.	Фрагменты самомодифицирующегося кода.
e.	Методы бинарной обфускации и обфускации потока передачи управления (нелинейная передача управления, например, через исключения [2].
12.	Для реализованной программы произвести обход внедренных механизмов защиты путем бинарного патчинга исполняемого кода.
13.	Произвести упаковку исполняемого файла с использованием одного из распространенных упаковщиков исполняемых файлов (например, UPX). 
14.	 Провести анализ принципов работы используемого средства защиты бинарного кода с помощью дизассемблера, отладчика и других программных средств. Найти в отладчике оригинальную точку входа в программу после упаковки файла. 
15.	 Сравнить параметры оригинального и упакованного файлов (энтропия).
16.	 В отчете необходимо привести следующую информацию:
—	исходный код программы до внесения в нее механизмов защиты;
—	описание полезной функциональности программы;
—	описание процесса модификации программы без механизмов защиты;
—	перечень механизмов защиты и фрагменты исходного кода, отвечающие за их реализацию;
—	описание принципа действия используемых механизмов защиты;
—	исходный код программы после добавления механизмов защиты;
—	описание процесса обхода реализованных механизмов защиты;
—	описание программы-упаковщика;
—	описание алгоритма упаковки исполняемого файла;
—	фрагмент кода упакованной программы, отвечающий за самораспаковку исполняемого файла (загрузчик), полученный с помощью дизассемблера;
—	схема структуры упакованного файла;
—	параметры исполняемых файлов до и после упаковки (размер файла, энтропия и т.п.).
